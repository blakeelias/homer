<head>
  <title>Homer</title>
  <script type="text/javascript"
     src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default">
  </script>
</head>

<body>
  {{> loginButtons}}

  <h1>Question list</h1>
  {{greeting}}
  <button id="create-user">Import</button>
  <div id="accordion">
  <h3>8.02</h3>
    <div>
    <button class="btn btn-xs btn-success reviewAll" style="float: left">Review All</button>
    <br>
    <br>
    {{#each tags}}
      <div class="category">
      {{> tagInAccordion}}
      </div>
    {{/each}}
    </div>
    <h3>Math</h3>
    <div>
      <p>
      Math cards
      </p>
      <p>
        Stoke's Theorem $$\oint_C{\bf F}\cdot d{\bf r}=\iint\limits_S\nabla \times \,{\bf F}\cdot d{\bf S}$$
      </p>
    </div>
    <h3>History</h3>
    <div>
      <p>
      History cards
      </p>
    </div>
    <h3>Cards Due Today</h3>
    <div>
      {{#each dueCards}}
        <div>
        {{> cardInAccordion}}
        </div>
      {{/each}}
    </div>
  </div>
  <div class="cards">
    <div class="panel-body">
      <div class="progress">
        <div class="bar" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%;">
          <span class="sr-only">60% Complete</span>
        </div>
      </div>
    </div>

    {{#each nextCard}}
      {{> card}}
    {{/each}}
    {{#if selected_card}}
    <div class="answer">
      {{selected_card.answer}}
      <input type="button" class="easy" value="Easy" />
      <input type="button" class="medium" value="Medium" />
      <input type="button" class="hard" value="Hard" />
      <input type="button" class="wrong" value="Wrong" />
    </div>
    {{/if}}
  </div>
  <table>
    {{#each cardsInCategory}}
      {{> cardBrowse}}
    {{/each}}
  </table>

  <div id="dialog-form" title="Create new user">
  <p class="validateTips">All form fields are required.</p>

  <form>
    <fieldset>
      <textarea name="Flashcards" id="importData" value="Type flashcards here" class="text ui-widget-content ui-corner-all"></textarea>

      <!-- Allow form submission with keyboard without duplicating the dialog button -->
      <input type="submit" tabindex="-1" style="position:absolute; top:-1000px">

      <textarea name="categories" id="importCategory" value="Type categories here" class="text ui-widget-content ui-corner-all"></textarea>
      <input type="submit" tabindex="-1" style="position:absolute; top:-1000px">
    </fieldset>
  </form>
  </div>

</body>

<template name="card">
  <div class="card" id="{{_id}}">
    <!--div class="front">
      <div class="cardText">{{question}}</div>
    </div-->
    <div class="front">
        <div>{{question}}</div> <!--div class="cardText">{{question}}</div-->
        <div class="answer">{{answer}}</div>
        <div class="card-footer">
            <span class="rank-number" data-html="true" data-original-title="I got this wrong<br/>(show again)" rating="0">WRONG</span>
            <span class="rank-number" data-original-title="I barely know" rating="1">1</span>
            <span class="rank-number" data-original-title="I know a little" rating="2">2</span>
            <span class="rank-number" data-original-title="I sort of know" rating="3">3</span>
            <span class="rank-number" data-original-title="I almost know" rating="4">4</span>
            <span class="rank-number" data-original-title="I know it" rating="5">5</span>
        </div>
    </div>
  </div>
</template>

<template name="tagInAccordion">
    {{name}}
    <button class="btn btn-xs btn-primary learn" style="float: right">Learn</button>
    <button class="btn btn-xs btn-success review" style="float: right">Review</button>
    <button class="btn btn-xs btn-default browse" style="float: right">Browse</button>
</template>

<template name="tag">
  <h3>{{name}}</h3>
  <div>
  {{#each cardsInCategory name}}
    <div>
    {{> cardInAccordion}}
    </div>
  {{/each}}
  </div>
</template>

<template name="cardInAccordion">
  {{question}}
</template>

<template name="cardBrowse">
    <tr>
      <th>{{question}}</th>
      <th>{{answer}}</th>
	</tr>
</template>
